<html xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="inputs">
  <p>Texto:<br>
    <textarea rows="10" cols="60" th:field="*{text}">Texto</textarea>
  </p>
</th:block>

<div th:fragment="data">
  <p><a th:href="@{/users/{uid}(uid=${c.author})}" th:text="${c.author}">Autor</a>, <span th:text="${#temporals.format(c.creationDate, 'dd/MM/yyyy, HH:mm', 'pt_BR')}">Data</span></p>
  <p class="replace-nl" th:text="${c.text}">Texto</p>
  <p th:if="${c.likes}" th:text="|Curtidas: ${c.likes.size}|">Curtidas: 10</p>
  <p th:unless="${c.likes}">Curtidas: 0</p>

  <form action="#" th:action="@{/communities/{cid}/publications/{pid}/comments/{cmid}(cid=${community.id},pid=${p.id},cmid=${c.id})}" method="post">


    <div>
      <button class="btn btn-primary" role="button"
         th:if="${c.likes != null and not #arrays.contains(c.likes, currentUser)}"
         type="submit" name="like" value="add">
         Curtir</button>
      <button class="btn btn-primary" role="button"
         th:unless="${c.likes != null and not #arrays.contains(c.likes, currentUser)}"
         type="submit" name="like" value="remove">
         Descurtir</button>
      <a class="btn btn-danger" role="button" type="button"
         th:onclick="deleteComment(this.dataset)"
         th:data-cid="${community.id}"
         th:data-pid="${p.id}"
         th:data-cmid="${c.id}">
         Remover coment√°rio</a>
    </div>

  </form>
</div>
