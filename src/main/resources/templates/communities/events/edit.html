<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}"
      th:with="title='Editar evento'">
<th:block layout:fragment="content">
  <form action="#" th:action="@{/communities/{cid}/events/{eid}(cid=${community.id},eid=${event.id})}" th:object="${event}" method="post">
    <th:block th:replace="~{communities/events/_event :: inputs}"/>

    <input type="hidden" name="id" th:value="${event.id}">
    
    <button type="submit" name="update" class="btn btn-primary">Editar evento</button>
    <a href="#" th:href="@{/communities/{cid}/events(cid=${community.id})}">
      <button type="button" class="btn btn-secondary">Cancelar</button>
    </a>
  </form>
</th:block>

<th:block layout:fragment="custom_scripts">
  <script th:inline="javascript">
    $(document).ready(function() {
      let formatedDate = [[${#temporals.format(event.date, "yyyy-MM-dd'T'HH:mm")}]]
      $(".date-input").val(formatedDate)
    });
  </script>
</th:block>
</html>
